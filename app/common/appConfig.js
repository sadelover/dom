
const electron = require('electron');

const low = require('lowdb')
const FileSync = require('lowdb/adapters/FileSync')
const remote = require('@electron/remote');
const exePath = remote.process.execPath.slice(0, -7).replace(/\\/g, '\/')


let dbPath
if (remote.process.execPath.indexOf("OM.exe") != -1) {
	dbPath = exePath + '/db.json'
} else {
	dbPath = 'db.json'
}
const adapter = new FileSync(dbPath)
const db = low(adapter)
let argv = remote.process.argv;
//初始化本地存储文件db.json
// Set some defaults (required if your JSON file is empty)
db.defaults({ ipList: [], nameList: [], ip: 'localhost:5000', name: '' })
	.write()

// 服务器协议
const protocol = 'http://';
// 服务器地址
//if (!localStorage.getItem('serverUrl')) {
localStorage.setItem('serverUrl', db.getState().ip);
// console.log(localStorage.getItem('serverUrl'))
// console.log(db.getState().ip)
localStorage.setItem('serverName', db.getState().name);
// console.log(localStorage.getItem('serverName'))
// console.log(db.getState().name)
//如果长度大于6则说明是命令行启动（开发环境长度是6）
if (argv.length > 6) {
	localStorage.setItem('serverName', '');
	localStorage.setItem('serverUrl', argv[argv.length - 1]);
}
//}


const serverUrl = protocol + localStorage.getItem('serverUrl');
// 项目信息
const project = {
	id: 1,
	name: 'project',
	version: '2.6.42',    
	log: {
		"2.0.107": "【重大漏洞】元素随机不显示----修复多边形缺少点值时的显示问题；优化设定值小数位",
		"2.0.108": "修复多边形导致的随机元素不显示的问题；优化实时刷新各元素判断",
		"2.0.109": "修复日志下载和今日策略log下载功能",
		"2.0.110": "增加om版本日志",
		"2.0.111": "日志下载和策略log下载的后台接口返回内容修改,修改相应前端代码,以及兼容旧接口内容",
		"2.0.112": "修复第一次打开时右击弹框点名无注释等信息的bug",
		"2.0.113": "修改OM的title展示",
		"2.0.114": "能耗模型组件优化",
		"2.0.115": "【重大漏洞】radio不能点击----开放多边形右上角图标的x,y偏移属性，可使整体小图标偏移",
		"2.0.116": "修复radio不可用的bug【点名呢高低限不能用】",
		"2.0.117": "修复配置数字类型高低限【绑定点名的高低限还未修复】",
		"2.0.118": "【新功能测试发现有bug】修复绑定点名的高低限功能",
		"2.0.119": "修复绑定点名的高低限功能",
		"2.1.0": "【重大升级】electron升级到13.1.6",
		"2.1.1": "系统管理内点查询趋势时，会先展示上一次再跳到最新选择的点，加入loading修复",
		"2.1.2": "登录项目端口号不为5000时,获取实时值接口设为10秒一刷,获取实时报警接口设为60秒一刷",
		"2.1.3": "修复刚登陆软件时,text文本点类型为undefind的问题",
		"2.1.4": "顶部天气图片没有时,不显示img",
		"2.1.5": "db.json增加animation字段，简易动画配置",
		"2.1.6": "db.json增加animation字段后，多边形无动画",
		"2.1.7": "能耗模型优化",
		"2.1.8": "设定弹框小数点修改",
		"2.1.9": "修改报警弹框样式，修复控制设置每次修改后第一次进入点值读不到的bug",
		"2.1.10": "修复弹框中无图元时一直loading的bug",
		"2.1.11": "优化主界面设定，当前值为数字时禁止写空",
		"2.1.12": "修改警报音播放机制，默认不播放，播放和弹框无关联",
		"2.1.13": "修改设备台账获取机制，改为多机房数据获取，增加模板弹窗内增加设备铭牌信息",
		"2.1.14": "修复打开弹框不修改值直接点确定会提示格式错误的bug",
		"2.1.15": "修复浮动页面内的checkbox选中后无法取消勾选的bug",
		"2.1.16": "修后台配置window=2时的报警机制",
		"2.1.17": "新增项目效率排名组件",
		"2.1.18": "弹出新确认框之前销毁旧的确认框（防止一下出现了很多确认框的问题）",
		"2.1.19": "控制设置内右击中文注释可以查看点位信息",
		"2.1.20": "能耗组件x参数锁定功能启用代表参与全部寻优",
		"2.1.21": "能耗组件input参数增加visible字段",
		"2.1.22": "模板弹框快捷导航切换时，会相应改变弹框顶部标题",
		"2.1.23": "设备台账增加各种新参数",
		"2.1.24": "设备铭牌兼容CTFan",
		"2.1.25": "修复设备灰色有闪烁的bug",
		"2.1.26": "修复右击无报修菜单的bug，修改使用方法",
		"2.1.27": "增加快捷键组合ctrl+alt+q,直接退出软件",
		"2.1.28": "修复点表设备标准点名缺失动画显示不对的bug",
		"2.1.29": "优化实时请求机制",
		"2.1.30": "修改实时请求和仪表盘的worker机制，修复仪表盘添加点名样式",
		"2.1.31": "柱状图显示异常和历史回放数据显示异常问题修改",
		"2.1.32": "修复网络断线后恢复实时请求多一个的bug",
		"2.1.33": "修复写值弹框的bug",
		"2.1.34": "修复弹框导致实时请求停止的bug，优化实时请求失败后继续请求",
		"2.1.35": "实时请求增加onabort",
		"2.1.36": "页面和操作权限绑定后台配置的用户名",
		"2.1.37": "线下测试阶段，暂时恢复原来的实时刷新机制",
		"2.1.38": "底部模式栏显示和权限绑定后台配置的用户名",
		"2.1.39": "优化弹框实时刷新机制",
		"2.1.40": "新建经验修改经验和经验信息弹框的布局样式初值设定修改",
		"2.1.41": "修复数据回放时弹框数据不显示的bug",
		"2.1.42": "重大更新-最小化时界面依旧绘制数据保持请求不中断",
		"2.1.43": "修改冷却高温水的水猪颜色",
		"2.1.44": "超时验证60s会跳过登录验证",
		"2.1.45": "场景管理内修改点值复制时，第一次复制失败的bug修复",
		"2.1.46": "故障管理升级（接口还未升级）",
		"2.1.47": "故障管理查询接口升级优化",
		"2.1.48": "故障管理冻结解冻",
		"2.1.49": "优化checkbox下发指令弹框的速度",
		"2.1.50": "修复故障完结时提示无工单号的bug和故障管理内相关字段修改",
		"2.1.51": "关闭chrome休眠设置",
		"2.1.52": "修改故障管理内各提示框的内容",
		"2.1.53": "故障管理功能细节化,布局美观化,小bug修复,顶部故障数量实时显示",
		"2.1.54": "故障管理bug修复",
		"2.1.55": "资产管理增加(缺一个设备管理,layout代码需提交，所以先提交了部分代码)",
		"2.1.56": "创建工单bug修复",
		"2.1.57": "故障工单增加终止功能",
		"2.1.58": "资产管理补充",
		"2.1.59": "故障管理内容修改",
		"2.1.60": "故障管理暂停功能修改",
		"2.1.61": "table组件增加宽度属性",
		"2.1.62": "兼容不同分辨率",
		"2.1.63": "系统管理中增加数据导入管理页面",
		"2.1.64": "故障管理创建工单bug修复，按钮颜色更改",
		"2.1.65": "优化设置值后快速再打开弹框显示loading的bug",
		"2.1.66": "增加更新功能",
		"2.1.67": "数据导入管理优化",
		"2.1.68": "增加报表进度管理页面，历史曲线和参数查询组件增加缩放功能",
		"2.1.69": "修复多行文本遮挡下面文本，导致下面文本无法点击的bug",
		"2.1.70": "数据相关性分析组件的冷机组合类型增加字段翻译（将10001等组合翻译）",
		"2.1.71": "设备管理内增加参数信息按钮，点击查看设备参数",
		"2.1.72": "资产管理内bug及布局样式修改",
		"2.1.73": "资产管理优化,点击设备展示设备铭牌（从资产管理获取）",
		"2.1.74": "故障管理升级创建工单的人可以提交自己创建的工单",
		"2.1.75": "故障管理增加修改工单功能",
		"2.1.76": "故障管理admin一键提交",
		"2.1.77": "修复系统管理内修改登录背景图不生效和设备日程bug及布局样式问题",
		"2.1.78": "操作记录增加筛选按钮，需在设备系统定义中增加各站房的RoomNameCHS字段",
		"2.1.79": "报表组件升级，可查询其它项目报表以及对每列求和、平均",
		"2.1.80": "修复写值弹框内直接复制粘贴不会将已有数字覆盖的bug",
		"2.1.81": "FanControlTable_V01组件增加隐藏列属性",
		"2.1.82": "报表组件增加timeSpanArr字段，控制可选的下拉时间段",
		"2.1.83": "将动画刷新中的setTimeout修改为requestAnimationFrame",
		"2.1.84": "实时报警暂不处理点击无效的bug修复",
		"2.1.85": "修复枚举类型改值框的bug",
		"2.1.86": "开放页面报警闪烁功能，配置字段为pages_red_warning：1",
		"2.1.87": "修复上个版本的代码bug",
		"2.1.88": "增加字段可配置OM左上角名称",
		"2.1.89": "故障管理功能优化，点击故障名弹出故障详细信息，仅我的按钮功能完善优化",
		"2.1.90": "软件下载未检查到后台core下的版本时，增加按钮下载云端OM,数据导入和报表管理内容按时间排序",
		"2.1.91": "F12快捷打开切换用户弹框",
		"2.1.92": "右击兼容点名错误依旧显示弹框",
		"2.1.93": "切换用户弹框焦点锁定",
		"2.1.94": "OM窗口可见时，重新计算超时时间",
		"2.1.95": "支持二级弹框功能，修复一级弹框中多边形错位bug",
		"2.1.96": "修复omtitle获取方法",
		"2.1.97": "策略日志查询今日和近一周按钮时间调整；策略管理内点击查询后关闭模态框bug修复，今日查询默认只看最近5000条信息；切换用户弹框增加保持登录功能，勾选后再登录可使自动退出失效；进入用户管理需要进行用户密码验证；用户管理增加修改用户中文名、修改用户密码按钮功能。",
		"2.1.98": "【重大漏洞，上个版本黑屏】2.1.97 bug修复",
		"2.1.99": "cx可以设置保持登录状态，报表下载接口增加时间偏移字段",
		"2.1.100": "增加通用控制表格组件",
		"2.1.101": "修改查询故障的时间范围，修改提交任务后没有清空任务信息的bug",
		"2.1.102": "通用控制组件只读点增加单位字段，增加右击显示点名功能",
		"2.1.103": "修复右击弹框有值时显示红字bug",
		"2.1.104": "下载功能改为在om内下载，不跳转到网页",
		"2.1.105": "工单支持增加图片",
		"2.1.106": "修复报表组件小数点未生效的bug",
		"2.1.107": "工单系统优化升级",
		"2.1.108": "工单系统修改增加字段判断是否显示修改按钮",
		"2.1.109": "工单系统查看图片支持放大预览",
		"2.1.110": "报表组件bug修复",
		"2.1.111": "通用控制表格组件升级",
		"2.1.112": "支持浮动页面弹出浮动页面",
		"2.1.113": "新增分屏功能",
		"2.1.114": "新增能效仪表盘组件，修复不能弹出二级弹框的bug",
		"2.1.115": "兼容登录框ip地址直接写ip或者写成中文冒号的情况",
		"2.1.116": "修复分屏功能后点击刷新按钮的bug;增加最大化和向下还原按钮",
		"2.1.117": "通用设备控制组件升级",
		"2.1.118": "能源管理组件升级",
		"2.1.119": "能效仪表盘优化",
		"2.1.120": "table组件增加autoScroll字段",
		"2.1.121": "能源管理组件升级",
		"2.1.122": "table组件autoScroll兼容一个页面多个table组件的情况",
		"2.1.123": "仪表盘组件优化",
		"2.1.124": "best控制设置界面适配",
		"2.1.125": "快捷登录增加-pageId字段，用来初始化登录界面",
		"2.1.126": "快捷登录增加-pageId字段，用来初始化登录界面2.1.126",
		"2.1.127": "修复cx账号自动退出问题",
		"2.1.128": "优化快捷登录初始化页面代码",
		"2.1.129": "修复4个分屏功能",
		"2.1.130": "增加快捷登录字段初始化数据回放页面",
		"2.1.131": "修复4个分屏功能",
		"2.1.132": "重新打包",
		"2.1.133": "支持9个分屏",
		"2.1.134": "重新打包",
		"2.1.135": "table组件数据为空时bug修复",
		"2.1.136": "趋势高低限过滤设置优化",
		"2.1.137": "修复9屏显示位置",
		"2.1.138": "软件分辨率兼容优化",
		"2.1.139": "免登录不显示登录窗",
		"2.1.140": "修改值弹窗bug",
		"2.1.141": "叠加柱状图升级，支持基础柱状图和曲线图",
		"2.1.142": "控制设置组件bug修复",
		"2.1.143": "报警管理中增加信息提示音，提示等级为0的信息。且信息只存在于顶部，不自动弹出，需在static下放置信息音.mp3",
		"2.1.144": "新增控制OMCloud窗口功能",
		"2.1.145": "打包测试ffi",
		"2.1.146": "修复多个叠加柱状图组件时，切换日期bug",
		"2.1.147": "通用设备控制表格组件升级，修复右击bug，增加诊断列",
		"2.1.148": "关闭软件不移除保持登录信息",
		"2.1.149": "修复快捷登录到历史回放界面时，切换页面全屏和小屏后页面白屏的bug",
		"2.1.150": "保持登录勾选框状态显示",
		"2.1.151": "实时折线图组件优化",
		"2.1.152": "登录框配置模态框样式优化，左下角展示版本号",
		"2.1.153": "在OMCloud的一键进入打开的OM窗口中增加返回主窗口OMCloud功能，一键关闭全部OM功能",
		"2.1.154": "仪表盘优化",
		"2.1.155": "在返回主窗口按钮上增加一键关闭全部OM功能；增加打开OM时，删除上次残留localstorage",
		"2.1.156": "修复删除残留localstorage导致样式显示不对的bug",
		"2.1.157": "仪表盘优化",
		"2.1.158": "仪表盘指针调细;增加点权限功能;table给固定宽度后横向滚动",
		"2.1.159": "优化超时自动登出和切换用户时页面保留在原页面，如果无权限访问则跳转首页",
		"2.1.160": "按钮预检功能",
		"2.1.161": "[修复重大bug] 修复modtext频繁结构转换导致的菜单反应缓慢",
		"2.1.162": "【修复重大bug】修复文本显示错误，文本数据不刷新的问题；增加param10过滤条件，优化文本刷新时的效率",
		"2.1.163": "修改param10点权限判断机制，优化文本刷新效率",
		"2.1.164": "修复增加param10功能后老版本的后台可写点无法弹框的bug",
		"2.1.165": "修复页面抖动问题，测试",
		"2.1.166": "table组件增加字段maxWidth,来控制表格的最大宽度",
		"2.1.167": "用户管理及权限修改",
		"2.1.168": "新增规则策略组件",
		"2.1.169": "用户登出操作记录",
		"2.1.170": "修复初次打开软件时页面显示不全的bug",
		"2.1.171": "用户管理内批量删除优化，不能删除高权限用户",
		"2.1.172": "用户管理弹框加宽",
		"2.1.173": "资产管理界面显示优化",
		"2.1.174": "隐藏设备台账,cx可见" ,
		"2.1.175": "修改单选按钮的显示文字",
		"2.1.176": "资产管理优化",
		"2.1.177": "报表组件增加M1间隔",
		"2.1.178": "叠加柱状图组件支持展示一年中12个月的月数据",
		"2.1.179": "规则策略组件新增添加、删除规则功能",
		"2.1.180": "恢复单选框使用旧的单选框函数，因为之前用的多选框函数，在多次重复点击时会被认为是取消选中，所以多选框逻辑不适用；修复旧的单选框函数使用新的操作记录添加接口。",
		"2.1.181": "report组件增加一分钟时间间隔",
		"2.1.182": "场景报错失败时的报错信息显示,修复report组件一分钟间隔不显示第一列时间的bug",
		"2.1.183": "右击提示脚本",
		"2.1.184": "不存在的点右击会显示点名在点表中不存在 ",
		"2.1.185": "新增按钮支持多点设置功能",
		"2.1.186": "优化按钮，按钮绑定点取消实时刷新",
		"2.1.187": "修复高度大的弹框点击后向下偏移遮挡弹框底部的bug",
		"2.1.188": "修复主界面单点按钮样式不刷新的bug;新增主界面的按钮多点下发多值功能",
		"2.1.189": "新增多边形设备摘挂牌图标",
		"2.1.190": "control_panel_define控制设置新增通用前缀roomName配置和面板名称title配置",
		"2.1.191": "通用控制组件增加字段控制显示左侧导航栏",
		"2.1.192": "优化login文件的获取项目配置；修复登录页右上角修改服务器地址后pipe_global_config，om_global_config，hideLoading，warning_notice_config四项配置信息不更新的bug",
		"2.1.193": "增加策略日志查询组件",
		"2.1.194": "修复快捷登录时的弹框bug",
		"2.1.195": "继续优化快捷登录时的弹框",
		"2.1.196": "修复登录页面的样式配置getConfigBest在快捷登录时报错的bug",
		"2.1.197": "控制设置组件升级，支持在点前缀中加入$2变量",
		"2.1.198": "修改逻辑，因后台版本低导致项目配置获取失败时，依旧可以进入软件",
		"2.1.199": "策略日志组件升级优化",
		"2.1.200": "修改逻辑，快捷登录时，项目配置获取失败后，也可进入软件",
		"2.1.201": "优化弹框提示内容",
		"2.1.202": "软件升级内支持升级后台",
		"2.1.203": "策略日志查询组件默认选中第一个策略",
		"2.1.204": "软件升级优化，增加状态显示",
		"2.1.205": "控制设置新增可支持配置最多6个面板功能",
		"2.1.206": "项目配置获取失败时，将初始化配置项给默认参数，修复按钮无法点击的bug；优化项目配置处理和快捷登录的执行顺序，修复底部模式按钮有时不显示的bug;取消项目配置请求失败的弹框提示",
		"2.1.207": "优化checkbox和radio确认弹框和操作记录内容",
		"2.1.208": "best登录时，将服务器地址改为best服务器",
		"2.1.209": "天气中文名过长的兼容性处理",
		"2.1.210": "兼容分辨率",
		"2.1.211": "历史曲线数据存储机制修改，支持重启OM后保留上次的历史曲线",
		"2.1.212": "【修复重大bug】修复控制设置面板滑块最大最小值重叠时下发值有误的bug",
		"2.1.213": "缩短顶部栏",
		"2.1.214": "工单图片上传删除修改",
		"2.1.215": "兼容不同分辨率的顶部报警宽度显示",
		"2.1.216": "修改工单图片提交判断",
		"2.1.217": "单选按钮增加点权限功能",
		"2.1.218": "工单图片操作界面修改",
		"2.1.219": "火灾自动退出账号",      
		"2.1.220": "【重大升级】新增规则脚本组件-升级echarts 3-->5 ",
		"2.1.221": "折线图等配置修改",
		"2.1.222": "radio按钮缺失操作记录bug修复",
		"2.1.223": "修复空调箱组件操作记录bug",
		"2.1.224": "echarts全局配置修改",
		"2.1.225": "打包测试解决图标异常bug",
		"2.1.226": "阀门模板内的开关按钮点击不添加操作记录的bug修复",
		"2.1.227": "优化规则脚本组件，当规则列表是空时，隐藏编辑和删除按钮",
		"2.1.228": "兼容性处理",
		"2.1.229": "弹窗redis缓存强制更新",
		"2.1.230": "单选按钮提示undefined修复",
		"2.1.231": "优化规则脚本编辑时的格式，优化刷新速度",
		"2.1.232": "规则脚本页面为空时，清除实时请求报错的bug修复",
		"2.1.233": "优化规则脚本组件样式",
		"2.1.234": "优化规则脚本组件左侧列表样式",
		"2.1.235": "修改规则脚本组件删除后保存空对象，且左侧列表不显示，字段名数字保持连续",
		"2.1.236": "规则脚本组件删除改为清空内容,保存为空对象，且要在左侧列表中显示；左侧列表增加编号",
		"2.1.237": "增加策略流程图展示组件", 
		"2.1.238": "修改策略流程图文件位置",
		"2.1.239": "优化策略流程图选择按钮的样式",
		"2.1.240": "修复自定义组件页面历史回放bug",
		"2.1.241": "优化末端组件",
		"2.1.242": "修复第一次打开软件缩小放大白屏的bug",
		"2.1.243": "修复场景管理内修改点击无法点击上下按钮bug",
		"2.1.244": "曲线增加小数点判断", 
		"2.1.245": "修复日期选择框失效bug", 
		"2.1.246": "升级天气接口，星期通过日期自己拼接",   
		"2.1.247": "报表组件修改小数位", 
		"2.1.248": "场景管理和模式管理中添加场景id列",
		"2.1.249": "操作记录筛选策略指令按钮升级优化",
		"2.1.250": "新增右击指令记录查询功能",  
		"2.1.251": "指令记录查询倒序，默认今天",  
		"2.1.252": "红色闪烁报警点，右击显示报警信息",
		"2.1.253": "红色闪烁报警点，右击显示报警信息过长省略，右侧面板红色闪烁",
		"2.1.254": "修复页面红色闪烁点bug",
		"2.1.255": "兼容一键打开页面initPageId为0的情况",
		"2.1.256": "修复一级菜单时一键打开页面时单页不跳转的bug",
		"2.1.257": "修复一级菜单时componentWillReceiveProps默认跳转首页，一键打开页面的initPageId失效的bug",
		"2.1.258": "修复一级菜单时componentWillReceiveProps默认跳转首页，一键打开页面的initPageId失效的bug(未修复)，快捷登录cx账号默认保持登录",
		"2.1.259": "修复文本bug",
		"2.1.260": "修复一级菜单设置初始化页面bug",
		"2.1.261": "修复多屏登录问题，测试" ,
		"2.1.262": "修复红色闪烁不随报警消失而消失的bug,场景id补充显示",
		"2.1.263": "控制设置右击指令记录显示，指令记录每次查询重置到首页",
		"2.1.264": "设备铭牌优化升级",
		"2.1.265": "优化能效组件，修复规则组件左侧无滚动条bug",
		"2.1.266": "升级策略流程图组件，支持空压",
		"2.1.267": "升级设备铭牌，支持预览pdf文件",
		"2.1.268": "天气接口请求接口错误时报错的bug",
		"2.1.269": "table组件增加showIndex属性，为1时显示序号",        
		"2.1.270": "修改日期时间组件的样式",        
		"2.1.271": "复选框bug修复",
		"2.1.272": "修改日期时间组件的按钮样式",
		"2.1.273": "历史曲线展示点释义，下载表格展示点释义在表头",
		"2.1.274": "新增能管组件EquipmentTable",
		"2.1.275": "能管组件EquipmentTable增加下载功能",
		"2.1.276":"能管组件EquipmentTablez增加全部列",
		"2.1.277":"能管组件StandardEnergyManage支持隐藏系统分组",
		"2.1.278":"能管组件StandardEnergyManage优化",    
		"2.1.279":"能管组件StandardEnergyManage修复下载功能",    
		"2.1.280":"能源管理看板",
		"2.1.281":"优化",
		"2.1.282":"能管组件StandardEnergyManage增加更新时间",
		"2.1.283":"能管组件StandardEnergyManage支持给配置的点配置保留小数点位数",
		"2.1.284":"能源管理看板修复刷新数据不显示bug;月趋势图改为单日能耗对比柱状图；日功率曲线图改为一分钟趋势；增加在线率离线详细信息弹框",
		"2.1.285":"能源管理看板优化",
		"2.1.286":"能源管理看板增加全部支路功率曲线",
		"2.1.287":"能源管理看板单支路功率曲线增加点名",
		"2.1.288":"工单bug修复",
		"2.1.289": "能源看板离线详情界面修改",
		"2.1.290": "新建db文件后增加默认值，防止出现空的情况",
		"2.1.291": "修复指令记录查询界面bug",
		"2.1.292": "能源管理组件增加能源看板功能",
		"2.1.293": "能源看板功能小数位调整",
		"2.1.294": "新增网络架构图功能",
		"2.1.295": "修复网络架构图功能第一次进入未展开的bug；修复tab切换为空的bug；优化实时刷新的颜色状态展示；",
		"2.1.296": "修复网络架构图卡顿问题，优化刷新；新增网关设备图标",
		"2.1.297": "修复网络架构图部分不显示问题",
		"2.1.298": "修复网络架构图再打开时显示不全的问题",
		"2.1.299": "修复网络架构图切换导致显示错乱的问题",
		"2.1.300": "修复控制设置内右击功能bug",
		"2.1.301": "控制设置内增加点击图标提示",
		"2.1.302": "修复能管管理组件的日用电量报表底部显示不全的bug",
		"2.1.303": "去除分类查询组件点击左侧查询数据的功能",
		"2.1.304": "右击浮动框支持多点切换，优化过长点名显示样式",
		"2.1.305": "设备看板修改只有day时才可显示全部支路",
		"2.1.306": "用户管理增加修改用户联系信息",
		"2.1.307": "设备模板修改",
		"2.1.308": "新增萤石云播放自定义组件；设备铭牌支持pdf上传功能",
		"2.1.309": "优化萤石云视频播放组件；解决资产管理页面请求错误时一直loading的bug",   
		"2.1.310": "多边形新增设定点状态显示、负载率血条显示、功率值显示",
		"2.1.311": "多边形新增频率点显示",
		"2.1.312": "网络拓扑点击图片弹出延时查询弹框",
		"2.1.313": "优化多边形血条样式",
		"2.1.314": "新增系统工具-优化调试视图；原仪表盘隐藏",
		"2.1.315": "网络拓扑图中增加已延时时间",
		"2.1.316": "新增设备离线在线图标，修复网络拓扑显示bug",
		"2.1.317": "新增系统工具-优化调试视图-调优统计图",
		"2.1.318": "修复系统工具-优化调试视图-调优统计图不显示的bug;优化数字",
		"2.1.319": "系统工具-优化调试视图-兼容配置错误无数据情况",  
		"2.5.1": "【重大版本升级】优化系统工具-优化调试视图刷新功能，新增时间列；隐藏保修管理、设备日程菜单；修改经验为备注字样",  
		"2.5.2": "增加图标右击弹框",  
		"2.5.3": "右击在离线图标提示弹框",
		"2.5.4": "新增 优化调试功能支持多个记录切换",
		"2.5.5": "设备摘牌维修修改",
		"2.5.6": "设备血条优化",  
		"2.5.7": "优化 优化调试视图--刚打开时不请求数据，展示空表格及空柱状图，方便快速切换调试记录",
		"2.5.8": "设备血条优化",
		"2.5.9": "新增 标准设备-图标、血条、频率、功率及报警色块动画",
		"2.5.10": "新增 右上角系统菜单--专家控制 功能",   
		"2.5.11": "优化 右上角系统菜单--规则控制 删除输出动作bug,增加规则信息修改",   
		"2.5.12": "修复 右上角系统菜单--规则控制 修改规则信息的bug",
		"2.5.13": "修复 右上角系统菜单--规则控制 删除输出动作bug",
		"2.5.14": "优化 策略流程图组件支持可配置",
		"2.5.15": "优化 处理多边形、标准设备图标、频率、功率回放时若无数据则不显示",
		"2.5.16": "修复指令记录查询时间选择bug",
		"2.5.17": "优化 右上角系统菜单--规则控制，新增分组功能；新增复制新建功能；修复清空bug",
		"2.5.18": "新增 右上角系统菜单--优化调试-支持新增记录表、创建采集工况功能",  
		"2.5.19": "新增 一级弹框中的按钮增加保护策略是否可用的判断，增加启用/禁用逻辑及保护策略展示图标及弹框，并在展示弹框中支持强制下发指令",                                                  
		"2.5.20": "优化 系统菜单--规则控制 支持10个分组，优化分组切换默认选中第一个；优化分组为空时不支持修改添加条件及动作;优化禁用详情样式",
		"2.5.21": "修复 按钮禁用原因导致系统界面展示不完整的bug",
		"2.5.22": "新增 禁用按钮的原因弹框中的强制按钮增加用户密码验证",
		"2.5.23": "新增 禁用按钮的原因弹框中的条件判断，标出导致禁用原因；优化禁用原因图标；优化强制按钮位置",
		"2.5.24": "优化 禁用按钮的原因图标初始化时不显示，优化强制按钮样式",
		"2.5.25": "优化 禁用按钮的原因图标弹框中，展示通过的有效状态当前值",
		"2.5.26": "新增 规则控制--新增启动、停止功能；左侧规则列表展示运行停止状态；优化规则内容中间图标，支持点击修改规则信息",
		"2.5.27": "优化 高级自定义组件LightingControlList当列表为空时支持友好提示",
		"2.5.28": "修复 规则控制--取消动态刷新状态，增加刷新按钮",
		"2.5.29": "修复 右侧能效组件导致的页面空白bug",
		"2.5.30": "修复改值弹框bug",
		"2.5.31": "新增 AI决策功能",
		"2.5.32": "修复 AI决策导致的切换页面bug;修复AI决策列表显示；新增环境管理",
		"2.5.33": "修复 优化调试记录中节能率均显示0的bug;新增 AI决策-增加一行当前数据的功能",
		"2.5.34": "优化 能管管理组件-细账查询支持根据GroupList解析每台设备；优化 趋势查询时段为日的取样间隔为每分钟",
		"2.5.35": "优化 解决规则组件导致软件卡死问题；优化 解决趋势查询报错warning的问题",
		"2.5.36": "优化 解决实时warning会消失的问题；优化 解决多个地方的点位选择中可能会报错的问题",
		"2.5.37": "模式管理内可以点击场景名称运行场景",
		"2.5.38": "新增 AI决策-环境管理、动作管理、模拟决策 功能；优化 规则控制-刷新按钮位置",
		"2.5.39": "血条功率和hz范围过滤",
		"2.5.40": "新增 规则控制-修改工况 功能",
		"2.5.41": "优化 当按钮绑定的有效状态点位不存在时，忽略该条设置，使按钮可点击",
		"2.5.42": "改值弹框接口内容修改；按钮点击后内容兼容处理",
		"2.5.43": "setValue接口增加userName",
		"2.5.44": "改值后立刻刷新界面显示值",
		"2.5.45": "新增 Checkbox启用禁用原因的问号弹框功能；修复 AI决策-增加环境动作后数据错列的bug",
		"2.5.46": "模式管理添加场景增加时间变量点",
		"2.5.47": "新增 AI决策-环境条件样式区分；修复 AI决策-新增决策时可多选点的bug；新增 非模板弹框支持按钮、checkbox的问号功能",
		"2.5.48": "修复 AI决策-变量管理弹框是空的bug；新增点名重复校验，提示且不添加",
		"2.5.49": "指令记录查询优化升级",
		"2.5.50": "修复 AI决策-变量管理不能添加的bug；新增 模拟决策 自动填入环境参数的当前值；修复 AI决策首次进入不显示表格内容的bug",
		"2.5.51": "修复 场景控制保存时有报错的问题；修复 规则控制-点击空节点弹框是修改规则的bug",
		"2.5.52": "修复 资产管理-设备管理添加、修改资产弹框的全是必填框的问题，样式问题；升级 设备铭牌弹框中设备图片从oss上传及展示功能",
		"2.5.53": "单选按钮修改后立刻重新刷新值",
		"2.5.54": "新增 自动检测新版本，支持在线、离线下载安装包；优化 AI决策-表格固定列头；优化 问号图标样式",
		"2.5.55": "新增 AI决策-支持新增虚拟点功能",
		"2.5.56": "报警升级",
		"2.5.57": "优化 资产管理-编辑设备提示选择系统；优化 AI决策-右侧表格样式",
		"2.5.58": "报警闪烁文字bug修复",
		"2.5.59": "功率百分比超过100优化",
		"2.5.60": "兼容报警老后台，仍然能显示报警信息，只是部分功能无效。",
		"2.5.61": "优化 relation自定义组件开始时间过早且未定义结束时间时默认结束数据为1000天后；修改部分message为弹框提示；修复 更新时的联网判断",
		"2.5.62": "优化 资产管理-编辑设备时无需选系统",
		"2.5.63": "修复 更新功能从接口获取安装包的oss路径",
		"2.5.64": "报警修改，写值弹框bug修复",
		"2.5.65": "修复 摘挂牌问号提醒不显示的bug",
		"2.5.66": "功率小于0时，直接取0",
		"2.5.67": "报警闪烁文字bug修复",
		"2.5.68": "优化 摘挂牌的checkbox按钮禁用时点击弹出禁用原因",
		"2.5.69": "指令记录查询近一天不跨天",
		"2.5.70": "优化 AI决策-支持配置不存在的点名，优化点名过多的表格样式",
		"2.5.71": "优化 AI决策-模拟决策支持显示不存在的点名",
		"2.5.72": "优化 AI决策-优化点名过多的表格样式",
		"2.5.73": "在离线判断过滤电表类型",
		"2.5.74": "添加报警表单规则修改；修复弹框内无法显示添加报警弹框的bug",
		"2.5.75": "报警优化",
		"2.5.76": "只闪烁未消除的报警优化",
		"2.5.77": "忽略报警改为快捷按钮;报警处理支持多选；修复右击添加报警bug",
		"2.5.78": "测试 自动升级功能",
		"2.5.79": "优化 AI决策-支持显示新点注释",
		"2.5.80": "弹框内管道位置处理",
		"2.5.81": "测试 自动升级功能",
		"2.5.82": "测试 自动升级功能",
		"2.5.83": "修复部分设备看不到ea图标的bug",
		"2.5.84": "报警点位趋势功能",
		"2.5.85": "测试 自动升级功能",
		"2.5.86": "测试 自动升级功能",
		"2.5.87": "报警信息全消除后，图标消红",
		"2.5.88": "修复 实时刷新时，多边形设备状态值非0/1时，保留上一次的状态显示",
		"2.5.89": "修复 恢复2.5.83版本的修改,解决2.5.83版本导致的实时请求中scriptList中有点名的bug；修改刷新函数，解决标准设备绑脚本时EA图标不显示的bug",
		"2.5.90": "修复 自动升级功能的版本对比方式；设置调用更新进程后启动弹框",
		"2.5.91": "修复 多边形状态变为0时没变化的问题",
		"2.5.92": "修复 日历中模式解绑弹框内模式类型显示与配置不一致的问题；优化 AI决策-模拟决策弹框固定高度",
		"2.5.93": "代码warningInfo判断有无值，防止缓存内值有问题",
		"2.5.94": "优化 多边形实时刷新函数，删除过多的数组遍历，改为对象结构，提高运行效率",
		"2.5.95": "修复 多边形报错；修复 关系自定义组件配置的点名不存在的问题",
		"2.5.96": "修改 自动升级的方法，测试",
		"2.5.97": "兼容报警接口请求失败的情况",
		"2.5.98": "优化 标准设备右上角图标的实时刷新函数，与多边形的实时刷新函数复用，增加代码可读性，便于维护；修复 液位元素静态图片不存在时，一直请求图片的bug",
		"2.5.99": "修复 AI决策-模拟决策时一个输出量的显示bug",
		"2.6.1":  "新增 规则控制-左侧列表规则是否通过的状态显示",
		"2.6.2":  "模式批量解绑增加source",
		"2.6.3":  "修复 用户管理-修改中文名失败的bug",
		"2.6.4":  "新增 优化调试-支持删除记录表；支持自定义单个奖励点求平均展示；支持添加多个采集工况；支持检测工况配置，防止设置多个基准工况",
		"2.6.5":  "添加报警样式修改",
		"2.6.6":  "优化 优化调试-环境变量过长时支持横向滚动；平均单耗保留3位小数；修复两次修改工况后存储内容有冗余的bug；修复无法删除第一个记录表的bug",
		"2.6.7":  "报警增加排序功能",
		"2.6.8":  "优化 优化调试-环境变量小数点位数",
		"2.6.9":  "修复 优化调试-修改工况时基准工况无法保存的bug",
		"2.6.10":  "best不显示标准设备周围图标",
		"2.6.11":  "优化 规则控制-兼容个别规则的配置字段不完整时也能正常显示",
		"2.6.12":  "新增 规则控制-支持点击“全局刷新”按钮刷新所有规则；支持全览每组的运行规则数量",
		"2.6.13":  "优化 前端报表组件-取样间隔显示错乱问题，新增“当日”快捷按钮；修复 报表下载组件-选择报表时下拉框里“全部”不显示的bug",
		"2.6.14": "文字颜色修改，兼容老后台",
		"2.6.15": "修复 规则控制-运行规则数量统计兼容没有enabled字段的情况",
		"2.6.16": "场景管理添加新点增加滚动条",
		"2.6.17": "优化 管道颜色、chart元素的颜色新后台用rgb顺序,兼容老后台；修复 矩形面板-支持不绑点，只显示标题和边框；优化 前端报表report自定义组件支持默认时间thismonth",
		"2.6.18": "场景管理搜索点位优化,可加空格模糊匹配",
		"2.6.19": "添加场景默认选中时间和执行次数",
		"2.6.20": "优化 文本设定值弹框默认全选，回车确定",
		"2.6.21": "修复 鼠标右击的备注图标不显示的bug",
		"2.6.22": "矩形面板蓝白样式优化",	
		"2.6.23": "模式绑定周末工作日定义",	
		"2.6.24": "增加字段修改血条上文字深色背景时的颜色",	
		"2.6.25": "修改报警表单bug修复",	
		"2.6.26": "点击版本号更新检查一次",	
		"2.6.27": "模式分组右击查看点位dom_system_mode_of_sys",
		"2.6.28": "优化 规则控制-运行规则数量图标颜色；创建第一个规则一直loading的bug",
		"2.6.29": "修复 管道矩形水流bug;优化 场景管理-新增场景时自动选中新建场景",
		"2.6.30": "矩形面板支持配置颜色和圆角",
		"2.6.31": "修复 自动打包命令-cwd",
		"2.6.32": "修复 文本写值时，当前为整数，且只修改小数点前的值为0时，无法写入0的bug",
		"2.6.33": "小数位修改",
		"2.6.34": "发布机制修改测试",
		"2.6.35": "发布机制修改测试",
		"2.6.36": "修复 文本设置值时第二次打开无法自动聚焦的bug",
		"2.6.37": "报警闪烁修改；数据查询小数位修改",
		"2.6.38": "best标准设备显示EA图标",
		"2.6.39": "按钮下发指令优化",
		"2.6.40": "EA图标开放字段",
		"2.6.41": "未配置EA时登录时移除缓存",
		"2.6.42": "best标准设备改为旧版显示"
	}             
}

// s3db 图片地址
const imageUrl = serverUrl + '/static/images/plant/' + project.name;
//模板图片地址;
const TemplateImageUrl = serverUrl + '/static/images'

const staticImage = serverUrl + '/static/images'


export const updateServerUrl = (url, projectName) => {
	const adapterNext = new FileSync(dbPath)
	const dbNext = low(adapterNext)
	dbNext.set('ip', url).write();
	//console.log(db.getState().ip);
	localStorage.setItem('serverUrl', url);
	localStorage.setItem('serverName', projectName)
	appConfig.serverUrl = protocol + localStorage.getItem('serverUrl');
}

const projectName = "";
const projectId = "";
const nameEn = "";

const appConfig = {
	serverUrl,
	imageUrl,
	project,
	staticImage,
	TemplateImageUrl,
	projectName,
	projectId,
	nameEn
};

export default appConfig
